<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Riskless Launcher</title>
  <script>
    const raw = localStorage.getItem('accountinfo');
    let account = null;
    try {
      account = JSON.parse(raw);
    } catch {}
    if (!account || typeof account !== 'object' || !account.username || !account.displayname) {
      window.location.href = 'login.html';
    }
  </script>
  <style>
    body {
      background: #000;
      color: #0cf;
      font-family: sans-serif;
      margin: 0;
      padding: 40px;
    }
    h1 {
      font-size: 48px;
      margin-bottom: 10px;
    }
    #user-tag {
      font-size: 16px;
      color: #888;
      margin-bottom: 30px;
    }
    .button {
      background: #222;
      color: #0cf;
      border: none;
      border-radius: 6px;
      padding: 10px 20px;
      font-size: 14px;
      cursor: pointer;
      margin-bottom: 10px;
      margin-right: 10px;
    }
    .button:hover {
      background: #444;
    }
    .category {
      margin-top: 30px;
    }
    .category h2 {
      font-size: 28px;
      border-bottom: 1px solid #0cf;
      padding-bottom: 5px;
      margin-bottom: 10px;
    }
    .game-list {
      list-style: none;
      padding: 0;
    }
    .game-list li {
      margin: 6px 0;
    }
    .game-list a {
      color: #0cf;
      text-decoration: none;
      font-size: 20px;
    }
    .game-list a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <h1>ðŸŽ® Riskless Launcher</h1>
  <div id="user-tag">Loading account...</div>
  <button class="button" onclick="location.href='messenger.html'">ðŸ’¬ Messenger</button>
  <button class="button" onclick="location.href='admin.html'">ðŸ›  Admin Panel</button>
  <button class="button" onclick="location.href='update-logs.html'">ðŸ“œ Updates</button>
  <button class="button" onclick="logout()">ðŸšª Logout</button>
  <div id="games-container"></div>

  <script>
    const account = JSON.parse(localStorage.getItem('accountinfo'));
    document.getElementById('user-tag').textContent = 'Logged in as: ' + account.username;

    function logout() {
      localStorage.removeItem('accountinfo');
      window.location.href = 'login.html';
    }

    const gameData = {
      "vegas-reels":    { enabled: true, category: "Slots", label: "Vegas Reels", url: "vegas-reels.html" },
      "texas-holdem":   { enabled: true, category: "Poker", label: "Texas Hold'em", url: "texas-holdem.html" },
      "roulette":       { enabled: true, category: "Table Games", label: "Roulette", url: "roulette.html" },
      "plinko-extreme": { enabled: true, category: "Plinko", label: "Plinko Extreme", url: "plinko-extreme.html" },
      "plinko-classic": { enabled: true, category: "Plinko", label: "Plinko Classic", url: "plinko-classic.html" },
      "omaha":          { enabled: true, category: "Poker", label: "Omaha", url: "omaha.html" },
      "mines-5x5":      { enabled: true, category: "Mines", label: "Mines 5x5", url: "mines-5x5.html" },
      "mines-3x3":      { enabled: true, category: "Mines", label: "Mines 3x3", url: "mines-3x3.html" },
      "limbo-classic":  { enabled: true, category: "Limbo", label: "Limbo Classic", url: "limbo-classic.html" },
      "fruit-frenzy":   { enabled: true, category: "Slots", label: "Fruit Frenzy", url: "fruit-frenzy.html" },
      "five-card-draw": { enabled: true, category: "Poker", label: "Five Card Draw", url: "five-card-draw.html" },
      "dice-duel":      { enabled: true, category: "Arcade", label: "Dice Duel", url: "dice-duel.html" },
      "coin-flip":      { enabled: true, category: "Arcade", label: "Coin Flip", url: "coin-flip.html" },
      "classic-slots":  { enabled: true, category: "Slots", label: "Classic Slots", url: "classic-slots.html" },
      "blackjack":      { enabled: true, category: "Table Games", label: "Blackjack", url: "blackjack.html" },
      "baccarat":       { enabled: true, category: "Table Games", label: "Baccarat", url: "baccarat.html" }
    };

    const container = document.getElementById('games-container');
    const enabled = Object.entries(gameData).filter(([_, g]) => g.enabled).map(([key, g]) => ({ key, ...g }));
    const byCategory = enabled.reduce((acc, game) => {
      if (!acc[game.category]) acc[game.category] = [];
      acc[game.category].push(game);
      return acc;
    }, {});

    Object.keys(byCategory).forEach(category => {
      const section = document.createElement('div');
      section.className = 'category';
      const header = document.createElement('h2');
      header.textContent = category;
      section.appendChild(header);

      const list = document.createElement('ul');
      list.className = 'game-list';
      byCategory[category].forEach(game => {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = game.url;
        a.textContent = game.label;
        li.appendChild(a);
        list.appendChild(li);
      });

      section.appendChild(list);
      container.appendChild(section);
    });
  </script>
</body>
</html>